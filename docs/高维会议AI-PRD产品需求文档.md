# 高维会议AI - 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品名称
**高维会议AI** (GaoWei Meeting AI)

### 1.2 产品定位
基于transcript-seeker与meeting-minutes融合技术的**企业级本地化会议记录AI助手**，提供Web端和桌面端双模式，专注于音频转录、智能摘要生成和音频-文本同步播放。

### 1.3 核心价值主张
- **Web优先**: 现代化Web应用，无需安装即可使用
- **文件上传**: 支持Web端直接上传音频文件处理
- **隐私灵活**: 本地部署保护隐私，外接API提升能力
- **专业体验**: 词级时间戳 + 音频文本同步播放  
- **AI灵活**: 本地LLM + 外接OpenAI等API双模式
- **跨平台**: Web应用为主 + 桌面应用为辅

### 1.4 目标用户
- **主要用户**: 企业会议组织者、项目经理、销售团队
- **次要用户**: 自由职业者、学生、内容创作者
- **技术用户**: 需要隐私保护的政府机构、金融机构

## 2. 市场分析

### 2.1 竞品分析
| 竞品 | 优势 | 劣势 | 差异化 |
|------|------|------|--------|
| Otter.ai | 成熟的云端服务 | 隐私风险，订阅费用高 | 我们：完全本地化 |
| Zoom转录 | 集成度高 | 准确度一般，云端处理 | 我们：更高准确度 |
| Whisper Web | 开源免费 | 功能简陋，无时间戳 | 我们：企业级功能 |


## 3. 核心功能需求

### 3.1 核心功能矩阵

#### 🎯 P0 核心功能 (MVP)
1. **Web端音频文件处理**
   - 🌐 Web端拖拽上传音频文件 (WAV/MP3/M4A/WebM)
   - 📊 上传进度显示与文件预览
   - 🎵 支持多种音频格式自动识别
   - ⚡ 大文件分片上传支持
   - 🔄 批量文件上传队列管理

2. **本地音频转录引擎**
   - 🚀 faster-whisper本地引擎优化
   - 🎯 词级时间戳精确支持
   - 🌍 支持中英文等多语言自动识别
   - ⚙️ GPU/CPU自适应处理模式
   - 📈 实时转录进度反馈

3. **音频-文本同步播放**
   - 🎛️ @vidstack/react专业Web音频播放器
   - 🎯 词级时间戳精确跳转（点击文字跳转音频）
   - 📍 播放进度可视化同步高亮
   - 🔍 全文搜索高亮定位
   - ⏯️ 播放速度调节（0.5x-2x）

4. **现代化Web应用界面**
   - 🖥️ 响应式Web界面设计
   - 🎨 基于shadcn/ui的现代组件库
   - 📱 移动端友好的自适应布局
   - 🌓 深色/浅色主题切换
   - 💾 浏览器本地状态持久化

#### 🚀 P1 增强功能
5. **灵活的AI智能摘要**
   - 🤖 **本地LLM**: Ollama/Phi4本地部署模式
   - 🌐 **外接API**: OpenAI GPT-4/Claude/Gemini API集成
   - 🔧 **配置灵活**: Web界面一键切换AI服务提供商
   - 📋 结构化会议纪要生成 (议题、决策、行动项、待办事项)
   - 🎨 支持自定义摘要模板与Prompt
   - 💬 多轮对话问答与智能检索

6. **数据管理与导出**
   - 🗄️ 本地SQLite数据库存储
   - 📊 会议记录历史管理与搜索
   - 💾 音频文件本地存储与云存储
   - 📄 导出多种格式 (PDF/Word/Markdown/JSON)
   - 🔄 数据备份与恢复功能

#### 🌟 P2 高级功能
7. **协作增强**
   - 🗣️ 说话人识别 (Speaker Diarization)
   - 👥 会议参与者管理与标注
   - 📤 会议纪要分享与协作编辑
   - 🔗 会议链接生成与访问控制

8. **高级Web功能**
   - 🎤 Web端实时录音功能 (浏览器麦克风)
   - 📺 视频文件上传与音频提取
   - 🔄 WebSocket实时状态同步
   - 📱 PWA应用支持 (离线使用)

### 3.2 技术架构需求

#### 后端架构
```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   File Upload   │────│  Whisper Engine  │────│  AI Summary     │
│   (Web API)     │    │  (faster-whisper)│    │ (Local/External)│
└─────────────────┘    └──────────────────┘    └─────────────────┘
         │                        │                        │
         └────────────────────────┼────────────────────────┘
                                  │                        │
                         ┌─────────────────┐              │
                         │   SQLite DB     │              │
                         │   (Metadata)    │              │
                         └─────────────────┘              │
                                                          │
┌─────────────────────────────────────────────────────────┼──────┐
│                    AI Service Router                    │      │
├─────────────────────────────────────────────────────────┼──────┤
│  ┌───────────────┐  ┌─────────────────┐  ┌─────────────┼──────┐ │
│  │ Local Ollama  │  │  OpenAI API     │  │  Claude API │      │ │
│  │   (Privacy)   │  │  (Performance)  │  │ (Advanced)  │      │ │
│  └───────────────┘  └─────────────────┘  └─────────────┼──────┘ │
└─────────────────────────────────────────────────────────┼──────┘
                                                          │
                                                    ┌─────┼──────┐
                                                    │ Config Mgmt │
                                                    │(API Keys)   │
                                                    └─────────────┘
```

#### 前端架构 (Web优先设计)
```
┌─────────────────────────────────────────────────────────────┐
│                    React Web Application                   │
│                 (React 19 + TypeScript + Vite)             │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌───────────────┐ │
│  │  File Upload    │  │  Audio Player   │  │  Transcript   │ │
│  │ (Drag & Drop)   │  │  (@vidstack)    │  │ (Word-level)  │ │
│  └─────────────────┘  └─────────────────┘  └───────────────┘ │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌───────────────┐ │
│  │  AI Settings    │  │  History        │  │  Export       │ │
│  │(Local/API Keys) │  │  (SQLite Web)   │  │  (Multi-fmt)  │ │
│  └─────────────────┘  └─────────────────┘  └───────────────┘ │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌───────────────┐ │
│  │  AI Summary     │  │  Progress       │  │  Status       │ │
│  │  (Editable)     │  │  (Real-time)    │  │  (WebSocket)  │ │
│  └─────────────────┘  └─────────────────┘  └───────────────┘ │
└─────────────────────────────────────────────────────────────┘

                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                  Optional Tauri Desktop                    │
│              (Web应用的桌面包装器,可选功能)                  │
└─────────────────────────────────────────────────────────────┘
```

## 4. 用户体验设计

### 4.1 核心用户流程

#### 主流程：Web端音频文件处理
```
访问Web页面 → 上传音频文件 → 转录进度显示 → 词级时间戳生成 → AI摘要生成 → 查看/导出
     ↓              ↓              ↓                ↓               ↓           ↓
   浏览器打开     拖拽/选择文件    实时进度条      faster-whisper     LLM处理     多格式下载
```

#### 扩展流程：AI配置与优化
```
AI设置页面 → 选择服务商 → 配置API密钥 → 测试连接 → 应用设置 → 开始使用
     ↓            ↓            ↓           ↓         ↓          ↓
  设置界面    本地/OpenAI   密钥管理      连通性测试   保存配置   正常处理
```

#### 次要流程：历史管理与回顾
```
历史记录 → 选择会议 → 音频播放器 → 时间戳跳转 → 编辑摘要 → 重新导出
    ↓         ↓         ↓            ↓           ↓          ↓
  Web数据库  记录加载   @vidstack    词级精确     富文本编辑  格式选择
```

### 4.2 界面设计要求

#### Web应用主界面布局
```
┌─────────────────────────────────────────────────────────────┐
│  [Logo] 高维会议AI     [📤上传] [🤖AI设置] [📊历史] [⚙️设置] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────────┐ │
│  │  📁 拖拽音频文件到此处上传 或 点击选择文件                │ │
│  │  支持: WAV, MP3, M4A, WebM (最大 500MB)                  │ │
│  │  ┌──────────────────────┐  [选择文件]  [📋批量上传]     │ │
│  │  │ ████████████░░░░░░░ │  45%                           │ │
│  │  │ 正在处理: meeting.mp3 │  [⏸️暂停] [❌取消]           │ │
│  │  └──────────────────────┘                               │ │
│  └─────────────────────────────────────────────────────────┘ │
│                                                             │
│  ┌─────────────────────┐  ┌─────────────────────────────────┐ │
│  │    Audio Player     │  │        转录结果                  │ │
│  │   (@vidstack UI)    │  │     (词级时间戳高亮)             │ │
│  │  ⏯️ 00:05 / 15:30   │  │  🔍[搜索]     📝[编辑模式]      │ │
│  │  🔊────●────────     │  │                                 │ │
│  │  0.75x 🔁 📱        │  │  [点击任意文字跳转到对应时间]     │ │
│  └─────────────────────┘  └─────────────────────────────────┘ │
│                                                             │
│  ┌─────────────────────────────────────────────────────────┐ │
│  │  🤖 AI摘要与分析 (🌐OpenAI GPT-4 已连接)                 │ │
│  │  📋 会议议题 | 🎯 决策事项 | ✅ 待办事项 | 📤 导出         │ │
│  │  ┌─────────────────────────────────────────────────────┐ │ │
│  │  │ [AI生成的结构化摘要内容,可编辑]                      │ │ │
│  │  │ 💬 [向AI提问此次会议内容...]                         │ │ │
│  │  └─────────────────────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

#### 设计原则
- **简洁明了**: 主要功能一目了然
- **实时反馈**: 录制状态、处理进度清晰可见
- **响应式**: 支持不同屏幕尺寸自适应
- **无障碍**: 支持键盘导航和屏幕阅读器

### 4.3 交互设计

#### 关键交互点
1. **📤 文件上传**: 
   - 大型拖拽区域，支持多文件同时上传
   - 实时上传进度条与文件预览
   - 支持暂停/恢复/取消上传操作
   
2. **🤖 AI服务配置**:
   - 一键切换本地Ollama与OpenAI API
   - 可视化API连接状态指示器
   - 智能推荐最佳AI服务商
   
3. **🎯 词级精确跳转**: 
   - 点击转录文字即可跳转到对应音频时间点
   - 当前播放位置的文字自动高亮显示
   
4. **🔍 智能搜索定位**: 
   - 全文搜索框，关键词自动高亮并跳转
   - 支持时间范围搜索与说话人筛选
   
5. **📱 响应式操作**:
   - 移动端友好的触摸操作
   - 键盘快捷键支持（空格播放/暂停等）

## 5. 技术规格

### 5.1 性能要求
- **Web应用加载**: < 2秒 (首次访问) / < 0.5秒 (缓存后)
- **文件上传速度**: 支持大文件分片上传，100MB文件 < 30秒
- **转录处理延迟**: < 5秒 (1分钟音频)
- **词级时间戳精度**: ±50ms
- **AI摘要响应**: < 10秒 (本地Ollama) / < 5秒 (OpenAI API)
- **内存占用**: < 2GB (GPU模式) / < 1GB (CPU模式)
- **存储空间**: 音频文件原大小 + 10% (转录数据)
- **并发处理**: 支持5个文件同时转录

### 5.2 兼容性要求
- **Web浏览器**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **服务器系统**: Ubuntu 20.04+, CentOS 8+, Docker容器支持
- **硬件要求**: 
  - 最低: 4GB RAM, 2GB可用存储, 2核CPU
  - 推荐: 8GB RAM, 20GB存储, 4核CPU, NVIDIA GPU (可选)
- **音频格式**: WAV, MP3, M4A, WebM, OGG, FLAC
- **导出格式**: PDF, Word, Markdown, JSON, SRT字幕, VTT字幕
- **API兼容**: OpenAI API v1, Claude API, Gemini API, 本地Ollama

### 5.3 安全隐私
- **数据本地化**: 100%本地处理，不连接外部服务器
- **文件加密**: 可选的本地文件AES-256加密
- **访问控制**: 应用级密码保护 (可选)
- **审计日志**: 本地操作日志记录

## 6. 开发计划

### 6.1 开发阶段

#### 第一阶段 (5-7天): Web后端API开发
- [ ] faster-whisper词级时间戳配置优化
- [ ] 文件上传API端点 (支持大文件分片)
- [ ] AI服务路由器设计 (本地/外接API切换)
- [ ] OpenAI/Claude/Gemini API集成
- [ ] SQLite数据库模型设计
- [ ] Docker开发环境搭建

#### 第二阶段 (6-8天): React Web前端开发
- [ ] React 19 + TypeScript + Vite项目搭建
- [ ] shadcn/ui组件库集成与主题配置
- [ ] 文件上传组件 (拖拽、进度条、批量上传)
- [ ] @vidstack音频播放器集成与定制
- [ ] 转录视图词级时间戳交互实现
- [ ] AI设置页面 (本地/API切换界面)
- [ ] Zustand状态管理架构

#### 第三阶段 (3-4天): Web应用整合优化
- [ ] 前后端API联调与错误处理
- [ ] 音频-文本同步逻辑完善
- [ ] AI摘要功能集成 (本地+外接API)
- [ ] 文件历史记录与导出功能
- [ ] Web端用户设置与偏好管理
- [ ] 响应式布局与移动端适配

#### 第四阶段 (2-3天): 测试与部署
- [ ] Web应用端到端功能测试
- [ ] 多浏览器兼容性测试
- [ ] AI API连接稳定性测试
- [ ] 文件上传压力测试
- [ ] 用户体验优化与性能调优
- [ ] Docker生产环境部署配置

### 6.2 里程碑计划

| 里程碑 | 时间 | 交付物 | 成功标准 |
|--------|------|--------|----------|
| Alpha 0.1 | Week 1 | Web后端API | 文件上传+词级时间戳转录+AI API集成 |
| Beta 0.2 | Week 2-3 | React Web前端 | 文件上传+音频播放+转录显示 |
| RC 0.9 | Week 4 | 功能完整 | Web端所有核心功能正常+AI切换 |
| Release 1.0 | Week 4-5 | 生产部署 | Docker部署+用户可访问Web应用 |

## 7. 成功指标

### 7.1 技术指标
- **转录准确率**: > 95% (中文), > 98% (英文)
- **时间戳精度**: < 100ms误差
- **应用响应性**: 所有操作 < 2秒响应
- **崩溃率**: < 0.1%
- **内存泄漏**: 长时间运行内存增长 < 100MB/小时

### 7.2 用户体验指标
- **新用户上手**: 首次使用完成录制 < 5分钟
- **用户满意度**: > 4.5/5.0 (用户反馈)
- **功能完成率**: 主要功能使用率 > 80%
- **错误率**: 用户操作错误率 < 5%

### 7.3 业务指标
- **用户采用率**: 目标100个企业用户测试
- **用户留存**: 周留存率 > 70%
- **NPS评分**: > 50 (净推荐值)

## 8. 风险与缓解

### 8.1 技术风险
| 风险 | 概率 | 影响 | 缓解策略 |
|------|------|------|----------|
| 词级时间戳精度不足 | 中 | 高 | 多种Whisper库测试对比 |
| 桌面应用打包问题 | 低 | 中 | 提前搭建CI/CD环境 |
| 内存占用过高 | 中 | 中 | 性能优化和内存监控 |
| 跨平台兼容性 | 低 | 中 | 多平台并行测试 |

### 8.2 产品风险
| 风险 | 概率 | 影响 | 缓解策略 |
|------|------|------|----------|
| 用户需求不匹配 | 低 | 高 | 早期用户反馈迭代 |
| 竞品功能超越 | 中 | 中 | 持续技术调研和创新 |
| 市场接受度低 | 低 | 高 | 目标用户深度访谈 |

## 9. 后续发展规划

### 9.1 Version 2.0 (3个月后)
- **说话人识别**: Multi-speaker diarization
- **实时协作**: 团队共享工作空间
- **移动应用**: iOS/Android版本
- **云端可选**: 混合本地-云端模式

### 9.2 企业版功能
- **单点登录**: LDAP/SAML集成
- **管理控制台**: 企业级用户管理
- **API接口**: 第三方系统集成
- **高级安全**: 端到端加密、合规报告

### 9.3 开源社区
- **核心开源**: 基础转录功能开源
- **插件生态**: 支持第三方插件开发
- **多语言支持**: 社区贡献各语言优化

## 10. 结语

**高维会议AI**旨在通过transcript-seeker的现代化前端体验与meeting-minutes的强大本地化后端能力的完美融合，为企业用户提供**隐私安全、功能完整、体验优秀**的会议记录AI解决方案。

通过词级时间戳音频-文本同步播放、本地化AI处理、桌面应用原生体验等核心差异化功能，我们有信心在竞争激烈的会议记录市场中占据独特的技术领先地位。

---

**项目启动日期**: 2024年1月15日  
**预期发布日期**: 2024年2月15日  
**产品负责人**: [待定]  
**技术负责人**: [待定]  
**文档版本**: v1.0  
**最后更新**: 2024年1月15日 